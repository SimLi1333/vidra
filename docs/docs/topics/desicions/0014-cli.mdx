---
title: Simplifying Vidra Operator Resource Provisioning with a CLI
sidebar_position: 15
---
import Admonition from '@theme/Admonition';

# Simplifying Vidra Operator Resource Provisioning with a CLI

## Context and Problem Statement

We noticed it was increasingly difficult to provide the Vidra Operator with the correct secrets and configuration resources, specifically:
- Infrahub login credentials (as a Secret)
- Cluster `kubeConfig` Secret
- Operator `ConfigMap`

Manually creating and managing these resources can be error-prone and cumbersome, especially as the number of clusters and environments grow.

<Admonition type="note" title="Note">
This was a not concidered during planing. If there was no time to implement it, we would have left it out.
</Admonition>

## Considered Options

* **Manual resource creation**
    - Pros: No additional tooling required.
    - Cons: Tedious, error-prone, and hard to automate or document.

* **Automated resource creation via a CLI tool**
    - Pros: Consistent, repeatable, and easy to use; simplifies onboarding and automation.

## Decision Outcome

**Chosen option: Automated resource creation via a CLI tool.**

We created a CLI tool written in Go, using [`github.com/spf13/cobra`](https://github.com/spf13/cobra), to wrap the creation of all required resources:
- Infrahub login Secret
- Cluster `kubeConfig` Secret
- Operator `ConfigMap`
- `InfrahubSync` and `VidraResource` custom resources

This CLI streamlines the setup process, reduces manual errors, and makes it easier to integrate with CI/CD pipelines.

### Consequences

* Good, because it improves reliability, developer experience, and automation potential.
* Bad, because it introduces an additional tool to maintain and document.
