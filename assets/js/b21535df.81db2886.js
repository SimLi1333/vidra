"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2439],{3022:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"topics/desicions/creating-two-controller-which-work-together-in-a-modular-system","title":"Transitioning Vidra Operator to Cluster Scope","description":"Context and Problem Statement","source":"@site/docs/topics/desicions/0002-creating-two-controller-which-work-together-in-a-modular-system.mdx","sourceDirName":"topics/desicions","slug":"/topics/desicions/creating-two-controller-which-work-together-in-a-modular-system","permalink":"/vidra/topics/desicions/creating-two-controller-which-work-together-in-a-modular-system","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Transitioning Vidra Operator to Cluster Scope","sidebar_position":2},"sidebar":"cliSidebar","previous":{"title":"Use Markdown Architectural Decision Records","permalink":"/vidra/topics/desicions/use-markdown-architectural-decision-records"},"next":{"title":"Operator-SDK","permalink":"/vidra/topics/desicions/operator-sdk"}}');var r=s(4848),i=s(8453);const o={title:"Transitioning Vidra Operator to Cluster Scope",sidebar_position:2},c="Transitioning Vidra Operator to Cluster Scope",a={},l=[{value:"Context and Problem Statement",id:"context-and-problem-statement",level:2},{value:"Considered Options",id:"considered-options",level:2},{value:"Decision Outcome",id:"decision-outcome",level:2},{value:"Consequences",id:"consequences",level:3}];function d(e){const n={br:"br",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"transitioning-vidra-operator-to-cluster-scope",children:"Transitioning Vidra Operator to Cluster Scope"})}),"\n",(0,r.jsx)(n.h2,{id:"context-and-problem-statement",children:"Context and Problem Statement"}),"\n",(0,r.jsx)(n.p,{children:"We needed to decide whether the Controller should be namespace-scoped or cluster-scoped."}),"\n",(0,r.jsx)(n.p,{children:"While namespace-scoped Operators offer isolation, they are limited as they cannot take ownership of resources in other namespaces. Our use case requires managing resources across multiple namespaces, and leveraging ownership could improve resource lifecycle management."}),"\n",(0,r.jsx)(n.h2,{id:"considered-options",children:"Considered Options"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Namespace-scoped controller and CRDs"}),(0,r.jsx)(n.br,{}),"\n","Limited to managing resources within a single namespace, may require additional logic to clean up resources using finalizers."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cluster-scoped controller and CRD"}),(0,r.jsx)(n.br,{}),"\n","Can manage resources across all namespaces and utilize Kubernetes ownership features effectively."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"decision-outcome",children:"Decision Outcome"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:'Chosen option: "Cluster-scoped controller and CRD"'}),", because:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"While a namespace-scoped controller is technically feasible\u2014especially when combined with finalizers to handle cleanup\u2014we want to fully benefit from Kubernetes ownership semantics."}),"\n",(0,r.jsx)(n.li,{children:"A cluster-scoped design gives us the flexibility to manage multi-namespace resources cleanly and consistently."}),"\n",(0,r.jsx)(n.li,{children:"It allows us to support advanced use cases and infrastructure-level resources in the future."}),"\n",(0,r.jsx)(n.li,{children:"We leave the door open to use either finalizers or ownership patterns for resource cleanup, depending on what best fits the use case."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"consequences",children:"Consequences"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Good, because it provides ",(0,r.jsx)(n.strong,{children:"flexibility, better visibility"}),", and aligns with ",(0,r.jsx)(n.strong,{children:"ownership and management patterns"})," in Kubernetes."]}),"\n",(0,r.jsxs)(n.li,{children:["Bad, because it may require ",(0,r.jsx)(n.strong,{children:"additional access control"})," and careful ",(0,r.jsx)(n.strong,{children:"RBAC management"})," to ensure security."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>c});var t=s(6540);const r={},i=t.createContext(r);function o(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);