"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9585],{2547:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"topics/desicions/clean-architecture","title":"Decision to Apply Clean Architecture in Vidra Operator","description":"Context and Problem Statement","source":"@site/docs/topics/desicions/0007-clean-architecture.mdx","sourceDirName":"topics/desicions","slug":"/topics/desicions/clean-architecture","permalink":"/vidra/topics/desicions/clean-architecture","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"title":"Decision to Apply Clean Architecture in Vidra Operator","sidebar_position":8},"sidebar":"cliSidebar","previous":{"title":"Split of Work","permalink":"/vidra/topics/desicions/split-of-work"},"next":{"title":"Adopting GitOps Principles for Vidra Operator","permalink":"/vidra/topics/desicions/gitops"}}');var r=i(4848),s=i(8453);const o={title:"Decision to Apply Clean Architecture in Vidra Operator",sidebar_position:8},c="Decision to Apply Clean Architecture in Vidra Operator",a={},l=[{value:"Context and Problem Statement",id:"context-and-problem-statement",level:2},{value:"Considered Options",id:"considered-options",level:2},{value:"Decision Outcome",id:"decision-outcome",level:2},{value:"Consequences",id:"consequences",level:3},{value:"References",id:"references",level:2}];function d(e){const n={br:"br",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"decision-to-apply-clean-architecture-in-vidra-operator",children:"Decision to Apply Clean Architecture in Vidra Operator"})}),"\n",(0,r.jsx)(n.h2,{id:"context-and-problem-statement",children:"Context and Problem Statement"}),"\n",(0,r.jsx)(n.p,{children:"To ensure maintainability, testability, and clear separation of concerns, we needed to decide on the architectural approach for the Vidra Operator. The main challenge was structuring the codebase to support evolving requirements, integration with Kubernetes, and external systems like Infrahub, while keeping the core business logic independent."}),"\n",(0,r.jsx)(n.h2,{id:"considered-options",children:"Considered Options"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Monolithic structure"}),(0,r.jsx)(n.br,{}),"\n","All logic (Kubernetes, domain, external integrations) is mixed, leading to tight coupling and harder testing."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Clean/Onion Architecture"}),(0,r.jsx)(n.br,{}),"\n","Separate the codebase into:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Controller"}),": Handles direct Kubernetes logic (reconcilers, API interactions)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Domain"}),": Contains core types, business logic, and interfaces, independent of infrastructure."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Adapters"}),": Implement interfaces for external systems (Infrahub, Kubernetes shared utilities)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"decision-outcome",children:"Decision Outcome"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:'Chosen option: "Clean/Onion Architecture"'}),", because it enables clear separation between business logic and infrastructure concerns. The domain layer remains decoupled from Kubernetes and Infrahub specifics, making the codebase easier to test, extend, and maintain."]}),"\n",(0,r.jsx)(n.h3,{id:"consequences",children:"Consequences"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Good, because it improves modularity, testability, and adaptability to future changes or integrations."}),"\n",(0,r.jsx)(n.li,{children:"Bad, because it introduces some initial complexity and requires discipline to maintain boundaries between layers."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Robert C. Martin, ",(0,r.jsx)(n.em,{children:"Clean Architecture: A Craftsman's Guide to Software Structure and Design"}),", Prentice Hall, 2017."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>c});var t=i(6540);const r={},s=t.createContext(r);function o(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);