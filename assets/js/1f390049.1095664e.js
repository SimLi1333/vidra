"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7515],{3890:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"topics/testing","title":"Testing the Vidra CLI","description":"This document describes the unit tests for the business logic and relevant functions of the KubeCLI adapter. The tests use mocking where appropriate. Cobra code and certain KubeCLI functions that interact directly with external tools are intentionally not tested.","source":"@site/docs-cli/topics/testing.md","sourceDirName":"topics","slug":"/topics/testing","permalink":"/vidra/cli/topics/testing","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Testing the Vidra CLI","position":2},"sidebar":"cliSidebar","previous":{"title":"Vidra CLI Architecture","permalink":"/vidra/cli/topics/architecture"}}');var i=n(4848),r=n(8453);const o={title:"Testing the Vidra CLI",position:2},c="Unit Tests for the Vidra CLI",a={},l=[{value:"Test Coverage",id:"test-coverage",level:2},{value:"Mocking",id:"mocking",level:2},{value:"Exclusions",id:"exclusions",level:2}];function d(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"unit-tests-for-the-vidra-cli",children:"Unit Tests for the Vidra CLI"})}),"\n",(0,i.jsx)(t.p,{children:"This document describes the unit tests for the business logic and relevant functions of the KubeCLI adapter. The tests use mocking where appropriate. Cobra code and certain KubeCLI functions that interact directly with external tools are intentionally not tested."}),"\n",(0,i.jsx)(t.h2,{id:"test-coverage",children:"Test Coverage"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"All business logic functions in the Vidra CLI service layer."}),"\n",(0,i.jsx)(t.li,{children:"External dependencies and system calls are mocked."}),"\n",(0,i.jsx)(t.li,{children:"No tests are written for Cobra CLI wiring or direct invocations of external tools like kubectl."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"mocking",children:"Mocking"}),"\n",(0,i.jsxs)(t.p,{children:["All interactions with the KubeCLI adapter and other external dependencies are mocked using the ",(0,i.jsx)(t.code,{children:"gomock"})," package. This allows us to isolate the business logic from the actual Kubernetes API and other system calls, ensuring that tests are fast and reliable."]}),"\n",(0,i.jsx)(t.h2,{id:"exclusions",children:"Exclusions"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Cobra CLI command parsing and execution are not tested, because we do not want to test the CLI framework itself."}),"\n",(0,i.jsxs)(t.li,{children:["Direct execution of external tools (e.g., ",(0,i.jsx)(t.code,{children:"kubectl"}),") is not tested."]}),"\n"]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Note:"})," For implementation details, refer to the actual test files and mocking setup in the codebase."]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>c});var s=n(6540);const i={},r=s.createContext(i);function o(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);